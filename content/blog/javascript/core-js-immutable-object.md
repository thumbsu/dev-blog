---
title: '[코어 자바스크립트] 🦠 불변 객체'
date: 2020-11-10 15:11:05
category: javascript
thumbnail: { thumbnailSrc }
draft: false
---

### 불변 책체를 만드는 방법

- 참조형 데이터도 데이터 자체를 변경하면 기본형 데이터와 마찬가지로 기존 데이터는 변하지 않음
- 내부 프로퍼티를 변경할 필요가 있을 때마다 **매번 새로운 객체를 만들어 재할당하면 객체 역시 불변성을 확보**할 수 있음

### 얕은 복사와 깊은 복사

#### 얕은 복사

- 바로 아래 단계의 값만 복사하는 방법
- 중첩 객체에서 참조형 데이터가 저장된 프로퍼티를 복사할 때 그 주소값만 복사한다는 의미
- 그러면 **해당 프로퍼티에 대한 원본과 사본이 동일한 참조형 데이터의 주소를 가리키게 됨**

```javascript
var user = {
  name: 'thumbsu',
  urls: {
    portfolio: 'https://thumbsu.dev/resume',
    blog: 'https://thumbsu.dev',
  },
}
```

- `user` 객체를 얕은 복사하면 `user` 객체에 직접 속한 프로퍼티는 복사해서 완전히 새로운 데이터가 만들어짐
- 한 단계 더 들어간 `urls`의 내부 프로퍼티들은 **기존 데이터를 그대로 참조**

#### 깊은 복사

- 내부의 모든 값들을 하나하나 찾아서 전부 복사하는 방법
- 참조형 데이터가 있을 때마다 재귀적으로 복사를 수행해야 비로소 깊은 복사가 됨
